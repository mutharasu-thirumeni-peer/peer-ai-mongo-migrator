
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sample Database Schema</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@11.10.1/dist/mermaid.min.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 20px;
            background-color: #f8f9fa;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            border-bottom: 2px solid #4a90e2;
            padding-bottom: 10px;
        }
        .diagram-container {
            margin: 20px 0;
            padding: 20px;
            border: 1px solid #e1e5e9;
            border-radius: 6px;
            background: #fafbfc;
        }
        .mermaid {
            text-align: center;
        }
        .info {
            background: #e3f2fd;
            border: 1px solid #2196f3;
            border-radius: 4px;
            padding: 15px;
            margin: 20px 0;
        }
        .download-btn {
            display: inline-block;
            background: #4a90e2;
            color: white;
            padding: 10px 20px;
            text-decoration: none;
            border-radius: 4px;
            margin: 10px 5px;
        }
        .download-btn:hover {
            background: #357abd;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Sample Database Schema</h1>
        
        <div class="info">
            <strong>ðŸ’¡ Interactive Diagram:</strong> This diagram is rendered using Mermaid.js. 
            You can zoom, pan, and interact with the diagram elements.
        </div>

        <div class="diagram-container">
            <div class="mermaid" id="mermaid-diagram-1756112519220">
erDiagram
    users {
        integer id ðŸ”‘
        varchar username
        varchar email
        timestamp created_at
    }
    
    orders {
        integer id ðŸ”‘
        integer user_id ðŸ”—
        decimal total_amount
        varchar status
        timestamp order_date
    }
    
    order_items {
        integer id ðŸ”‘
        integer order_id ðŸ”—
        integer product_id ðŸ”—
        integer quantity
        decimal unit_price
    }
    
    products {
        integer id ðŸ”‘
        varchar name
        text description
        decimal price
        integer stock_quantity
    }
    
    users ||--o{ orders : "places"
    orders ||--o{ order_items : "contains"
    products ||--o{ order_items : "included_in"
            </div>
        </div>

        <div style="text-align: center; margin-top: 20px;">
            <a href="#" onclick="downloadSVG()" class="download-btn">ðŸ“¥ Download SVG</a>
            <a href="#" onclick="downloadPNG()" class="download-btn">ðŸ“¥ Download PNG</a>
        </div>

        <script>
            // Initialize Mermaid
            mermaid.initialize({
                startOnLoad: true,
                theme: 'default',
                securityLevel: 'loose',
                fontFamily: 'Arial, sans-serif',
                fontSize: 14
            });

            // Download functions
            function downloadSVG() {
                const svg = document.querySelector('#mermaid-diagram-1756112519220 svg');
                if (svg) {
                    const svgData = new XMLSerializer().serializeToString(svg);
                    const blob = new Blob([svgData], {type: 'image/svg+xml'});
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = 'sample_database_schema.svg';
                    a.click();
                    URL.revokeObjectURL(url);
                }
            }

            function downloadPNG() {
                const svg = document.querySelector('#mermaid-diagram-1756112519220 svg');
                if (svg) {
                    const svgData = new XMLSerializer().serializeToString(svg);
                    const canvas = document.createElement('canvas');
                    const ctx = canvas.getContext('2d');
                    const img = new Image();
                    
                    img.onload = function() {
                        canvas.width = img.width;
                        canvas.height = img.height;
                        ctx.drawImage(img, 0, 0);
                        
                        const pngUrl = canvas.toDataURL('image/png');
                        const a = document.createElement('a');
                        a.href = pngUrl;
                        a.download = 'sample_database_schema.png';
                        a.click();
                    };
                    
                    img.src = 'data:image/svg+xml;base64,' + btoa(unescape(encodeURIComponent(svgData)));
                }
            }
        </script>
    </div>
</body>
</html>